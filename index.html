<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Solana Token LP Checker</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f7f7f7; }
    input { padding: 10px; width: 400px; margin-right: 10px; }
    button { padding: 10px 20px; }
    pre { background: #eee; padding: 10px; border-radius: 5px; }
  </style>
</head>
<body>

  <h2>Solana Token Info + LP Burn Checker (Solscan API)</h2>

  <input type="text" id="tokenAddress" placeholder="Enter token mint address">
  <input type="text" id="lpTokenAddress" placeholder="Enter LP token address (optional)">
  <button onclick="checkToken()">Check</button>

  <h3>Result:</h3>
  <pre id="output">Waiting...</pre>

  <script>
    async function fetchSolscan(endpoint) {
      const res = await fetch(endpoint, {
        headers: {
          "User-Agent": "Mozilla/5.0",
          "Accept": "application/json"
        }
      });
      if (!res.ok) throw new Error("API error");
      return res.json();
    }

    async function checkToken() {
      const tokenMint = document.getElementById('tokenAddress').value.trim();
      const lpToken = document.getElementById('lpTokenAddress').value.trim();
      const output = document.getElementById('output');

      try {
        // 1. Get token info
        const tokenInfo = await fetchSolscan(`https://public-api.solscan.io/token/meta?tokenAddress=${tokenMint}`);

        // 2. Get token supply
        const tokenSupply = await fetchSolscan(`https://public-api.solscan.io/token/supply?tokenAddress=${tokenMint}`);

        // 3. Get LP holder (optional)
        let lpInfo = 'Not checked';
        if (lpToken) {
          const lpHolders = await fetchSolscan(`https://public-api.solscan.io/token/holders?tokenAddress=${lpToken}&limit=1`);
          const topHolder = lpHolders?.data?.[0]?.owner;
          if (topHolder === '11111111111111111111111111111111') {
            lpInfo = '? LP Token is burned (sent to null address)';
          } else {
            lpInfo = `? LP Token is NOT burned\nTop LP Holder: ${topHolder}`;
          }
        }

        output.textContent = `
Token Name: ${tokenInfo.name}
Symbol: ${tokenInfo.symbol}
Decimals: ${tokenInfo.decimals}
Mint Authority: ${tokenInfo?.tokenAuthority ?? 'None'}
Total Supply: ${tokenSupply?.data?.supply / (10 ** tokenInfo.decimals)}

LP Burn Status: ${lpInfo}
        `.trim();
      } catch (err) {
        output.textContent = '? Error: ' + err.message;
      }
    }
  </script>

</body>
</html>
